<!DOCTYPE html>
<html>
  <head>
    <title>BrightID Node</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  </head>

  <body style="font-family: Poppins, sans-serif;">
    <a id="brightid_logo" href="https://www.brightid.org/"
      ><img
        src="https://uploads-ssl.webflow.com/5e54622b3f6e65be8baf0653/5fdc4719cf8bf208a98162f2_brightid%20final%20logo-01.png"
        loading="lazy"
        width="103"
    /></a>
    <h1 style="text-align: center;">BrightID Node</h1>
    <br />
    <table
      class="table table-bordered"
      style="table-layout: fixed; word-wrap: break-word"
      id="table"
    ></table>

    <script>
      $(document).ready(function () {
        $.get(
          "/brightid/v6/state",
          function (res) {
            for (let [key, value] of Object.entries(res.data)) {
              if (key == "wISchnorrPublic") {
                value = { y: value.y };
              }
              let row = $("<tr/>");
              $("#table").append(
                `<tr> <th scope="row" width="20%">${key}</th> <td  width="70%">${
                  typeof value === "object"
                    ? JSON.stringify(value, null, 4)
                    : value
                }</td> </tr>`
              );
            }
          }
        );
      });
    </script>
  </body>
</html>
